# 이상한 나라의 객체

> 의인화의 관점에서 소프트웨어를 생물로 생각하자. 모든 생물처럼 소프트웨어는 태어나고, 삶을 영위하고, 그리고 죽는다. [Wirfs-Brock 1990].

## Keywords
* 구별 가능한 식별자
* 특정적인 행동
* 변경 가능한 상태

객체란 인간이 분명하게 인지하고 구별할 수 있는 물리적인 또는 개념적인 경계를 지닌 어떤 것.
객체란 식별 가능한 개체 또는 사물이다. 만질 수 있거나 추상적인 개념이 될 수 있다.


* 상태를 가지며 상태는 변경가능하다.
* 행동에 따라 상태가 변한다.
  * 행동의 결과는 상태에 의존적이다.
  * 행동의 순서가 결과에 영향을 미친다.
* 어떤 상태에 있더라도 유일하게 식별 가능하다.

### 상태
어떤 행동의 결과는 과거에 어떤 행동들이 일어났었느냐에 의존한다.

모든 행동을 기억해야만 가능하기 때문에, 행동의 과정과 결과를 단순화하기 위해 상태라는 개념을 고안했다.

과거의 모든 행동 이력을 설명하지 않고도 행동의 결과를 쉽게 예측하고 설명할 수 있다. 

**프로퍼티**

객체의 상태는 단순한 값과 객체의 조합으로 표현할 수 있다. 객체의 상태를 구성하는 모든 특징을 통틀어 객체의 **프로퍼티**라고 한다.

프로퍼티는 변경되지 않고 고정되기 때문에 '정적'이다. 반면 프로퍼티 값은 시간이 흐름에 따라 변경되기 때문에 '동적'이다.

**링크**

객체와 객체 사이의 의미 있는 연결. 객체와 객체 사이에는 링크가 존재해야만 요청을 보내고 받을 수 있다.

**속성**

객체를 구성하는 단순한 값

> 상태는 특정 시점에 객체가 가지고 있는 정보의 집합으로 객체의 구조적 틍징을 표현한다.
객체의 상태는 객체에 존재하는 정적인 프로퍼티와 동적인 프로퍼티 값으로 구성된다.
객체의 프로퍼티는 단순한 값과 다른 객체를 참조하는 링크로 구분할 수 있다.


### 행동
객체의 행동은 객체의 상태를 변경시키지만 행동의 결과는 객체의 상태에 의존적이다.

객체의 행동에 의해 객체의 상태가 변경된다는 것은 행동이 부수 효과(side effect)를 초래한다는 것을 의미한다.

상태를 먼저 결정하고 행동을 나중에 결정하는 방법은 설계에 나쁜 영향을 끼친다.

1. 상태를 먼저 결정할 경우 캡슐화가 저해된다. 
2. 객체를 협력자가 아닌 고립된 섬으로 만든다.

객체가 적합한지를 결정하는 것은 행동이다.
> 객체지향 설계는 애플리케이션에 필요한 협력을 생각하고 협력에 참여하는 데 필요한 행동을 생각한 후 행동을 수행할 객체를 선택하는 방식으로 수행한다.

**캡슐화**

객체는 상태를 캡슐 안에 감춰둔 채 외부로 노출하지 않는다. 외부로 노출하는 것은 행동뿐, 외부에서 객체에 접근할 수 있는 유일한 방법도 행동뿐이다.

**식별자**

객체를 구별할 수 있는객체 안에 존재하는 프로퍼티

**동등성(equality)**

상태를 이용해 두 값이 같은지 판단

가능한 이유는 값의 상태가 변하지 않기 때문이다. 이런 동등성 판단은 식별자가 필요하지 않다. 객체는 시간에 따라 행동을 통해 상태가 변경한다.

**동일성(identical)**

식별자를 기반으로 객체가 같은지를 판단할 수 있는 성질

객체는 식별자를 통해 동일성 검사로 두 인스턴스를 비교할 수 있다.

**쿼리(query)**

객체의 상태를 조회하는 작업

**명령(command)**

객체의 상태를 변경하는 작업

객체는 스스로 결정한다. 전달된 메시지에 따라 스스로 판단하고 결정하는 자율적이다.

### 은유와 이상한나라를 창조하라
소프트웨어 객체의 이름을 실세계인 도메인에서 상용되는 이름을 사용하면 표현적 차이를 줄여 소프트웨어의 구조를 쉽게 예측할 수 있다.
> 현실을 담아야 한다는 어떤 제약이나 구속도 없다. 
